# Kianax

**"Talk to Create Routines"** - An AI-native automation platform where users build powerful workflows by simply describing what they want.

Connect any data source to any action through an extensible plugin marketplace. AI builds routines for you‚Äîno coding required.

## Overview

Kianax enables users to:
- üó£Ô∏è **Create Routines with Natural Language** - Describe what you want, AI builds it
- üîå **Connect Any Data Source** - Twitter, Reddit, stock prices, APIs, databases, RSS feeds
- ‚ö° **Trigger on Any Event** - Cron schedules, webhooks, data changes, custom events
- üéØ **Take Any Action** - Trade stocks, send emails/SMS, make API calls, run custom code
- üß© **Build with Plugins** - Extensible marketplace where anyone can publish plugins
- ü§ñ **AI-Powered Intelligence** - LLM decision nodes for context-aware, intelligent automation

Complete multi-tenancy with user isolation, encrypted credentials, and sandboxed execution.

## Key Features

- **AI-First**: Natural language and voice input for routine creation
- **Type-Safe Plugin System**: Plugins auto-connect when input/output types match
- **Real-Time Updates**: Live execution status via Convex subscriptions
- **Serverless Architecture**: Zero DevOps‚Äîfully managed infrastructure
- **Workflow Versioning**: Update engine without breaking running routines
- **Superior Observability**: Time-travel debugging with Temporal
- **Multi-Tenant**: Complete user isolation with row-level security

## Example Use Cases

### AI-Powered Stock Trading
```
"When AAPL drops 5%, analyze news sentiment.
If positive, buy $1000 worth. If negative, wait."
```
‚Üí Stock Price Input ‚Üí AI Processor ‚Üí News Input ‚Üí AI Processor ‚Üí Trading Output

### Social Media Monitoring
```
"When my company is mentioned on Reddit with negative sentiment, send SMS alert."
```
‚Üí Reddit Input ‚Üí AI Processor ‚Üí Logic Condition ‚Üí SMS Output

### Earnings Alert System
```
"Every day at 4pm, check tech company earnings. Summarize with AI and email me."
```
‚Üí Earnings Input ‚Üí AI Processor ‚Üí Email Output

## Tech Stack

| Layer | Technology | Why? |
|-------|-----------|------|
| **Frontend** | Next.js 16, React 19, Tailwind CSS v4, shadcn/ui, React Flow | Modern DX, built-in features, visual routine editor |
| **Backend** | Convex | Zero DevOps, real-time subscriptions, TypeScript-native, serverless |
| **Workflows** | Temporal Cloud | Dynamic execution, versioning, time-travel debugging, battle-tested |
| **Workers** | TypeScript | Execute plugins as Temporal Activities |
| **Auth** | Convex Auth | Built-in authentication with row-level security |
| **AI** | OpenAI GPT-4 | Routine parsing and AI Processor nodes |
| **Infra** | Vercel + Convex + Temporal Cloud | Fully managed, auto-scaling, pay-per-use |

**Why Temporal?** Purpose-built for user-defined workflows at runtime. Used by Uber, Netflix, Stripe for mission-critical systems.

**Why Convex?** No PostgreSQL, Redis, or Kubernetes to manage. Built-in real-time, TypeScript schemas, perfect for solo developers.

## Getting Started

### Prerequisites

- **Bun** (v1.2.23+) - [Install](https://bun.sh)
- **Temporal CLI** - `brew install temporal` (macOS) or [download](https://docs.temporal.io/cli)

### Quick Start

```bash
# Install dependencies
bun install

# Start everything with one command! üöÄ
bun dev
```

That's it! All services start in parallel with color-coded logs:

| Service | Port | Purpose |
|---------|------|---------|
| ‚ö° Temporal Server | 7233 | Workflow orchestration |
| üîß Temporal UI | [8233](http://localhost:8233) | Workflow debugging |
| üóÑÔ∏è Convex Backend | N/A | Serverless backend + database |
| üåê Next.js Web | [3000](http://localhost:3000) | Frontend application |
| üë∑ Temporal Workers | N/A | Execute workflows |

### Environment Variables

```bash
# .env.local
CONVEX_DEPLOYMENT=dev:your-project    # Auto-generated by convex dev
NEXT_PUBLIC_CONVEX_URL=https://...    # Auto-generated
TEMPORAL_ADDRESS=localhost:7233       # Local Temporal server
TEMPORAL_NAMESPACE=default            # Temporal namespace
OPENAI_API_KEY=sk-...                 # For AI routine parsing
```

### Individual Services

```bash
# Start only Temporal server
bun run dev:temporal

# Start only apps (without Temporal)
bun run dev:apps

# Start specific apps
cd apps/web && bun dev       # Next.js
cd apps/workers && bun dev   # Workers
cd apps/server && bun dev    # Convex
```

### Development Commands

```bash
# Build all apps
bun run build

# Lint and format
bun run lint
bun run format

# Type check
bun run typecheck

# Run Convex functions
npx convex run routines:create --args '{"name": "test"}'

# Test Temporal workflows
temporal workflow execute \
  --task-queue kianax-default \
  --type example \
  --workflow-id test-1
```

### Troubleshooting

**Temporal won't start:**
```bash
ps aux | grep temporal    # Check if already running
pkill -f temporal         # Kill existing processes
```

**Port already in use:**
```bash
lsof -ti:3000             # Check what's using port 3000
kill -9 $(lsof -ti:3000)  # Kill the process
```

**Workers can't connect:** Check the blue-colored "temporal" output in your terminal to ensure Temporal started successfully.

### Dev Tips

- **Turbo TUI**: Dashboard shows all running services with live logs
- **Hot Reload**: All services auto-restart on file changes
- **Color Logs**: Blue = Temporal, Magenta = Apps
- **Stop All**: Press `Ctrl+C` once to stop all services

## Architecture

### Project Structure

```
kianax/
‚îú‚îÄ‚îÄ apps/
‚îÇ   ‚îú‚îÄ‚îÄ web/              # Next.js frontend (React Flow routine editor)
‚îÇ   ‚îú‚îÄ‚îÄ server/           # Convex backend (database + serverless functions)
‚îÇ   ‚îî‚îÄ‚îÄ workers/          # Temporal Workers (execute routines as workflows)
‚îÇ       ‚îú‚îÄ‚îÄ workflows/    # Workflow definitions (routine executor)
‚îÇ       ‚îî‚îÄ‚îÄ activities/   # Activities (plugin execution)
‚îú‚îÄ‚îÄ packages/
‚îÇ   ‚îú‚îÄ‚îÄ shared/           # Shared types and utilities
‚îÇ   ‚îú‚îÄ‚îÄ ui/               # Shared React components (shadcn/ui)
‚îÇ   ‚îî‚îÄ‚îÄ typescript-config/# Shared TypeScript configs
‚îî‚îÄ‚îÄ docs/                 # Documentation
    ‚îú‚îÄ‚îÄ ARCHITECTURE.md
    ‚îú‚îÄ‚îÄ PLUGIN_DEVELOPMENT.md
    ‚îú‚îÄ‚îÄ ROADMAP.md
    ‚îî‚îÄ‚îÄ TODO.md
```

### Development Architecture

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ            bun dev (root)                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ                       ‚îÇ
  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ Temporal  ‚îÇ         ‚îÇ Turbo (apps)‚îÇ
  ‚îÇ  (7233)   ‚îÇ         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                ‚îÇ
                ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                ‚îÇ              ‚îÇ              ‚îÇ
          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îê
          ‚îÇ  Convex  ‚îÇ   ‚îÇ Next.js  ‚îÇ  ‚îÇ Workers  ‚îÇ
          ‚îÇ Backend  ‚îÇ   ‚îÇ  (3000)  ‚îÇ  ‚îÇ(Temporal)‚îÇ
          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## Plugin System

### Plugin Contract

Every plugin has a strongly-typed interface:

```typescript
interface Plugin {
  id: string;                    // 'alpaca-trading'
  name: string;                  // 'Alpaca Trading'
  version: string;               // '1.0.0'
  type: 'input' | 'processor' | 'logic' | 'output';
  inputSchema: JSONSchema;       // Typed inputs
  outputSchema: JSONSchema;      // Typed outputs
  credentials?: CredentialSchema;// API keys, tokens
  execute: (input, context) => Promise<output>;
}
```

### Type-Safe Connections

Plugins auto-connect when types match. When they don't, AI Processor acts as a universal adapter:

```
Stock Price Input {symbol, price, timestamp}
         ‚Üì
AI Processor "Transform to {ticker, currentPrice, action: 'buy'}"
         ‚Üì
Trading Output {ticker, currentPrice, action}
```

**No complex field mapping needed!** AI handles all transformations.

### Marketplace

- **Discover** plugins by category, rating, popularity
- **Publish** your own plugins (with review)
- **One-click install** to your workspace
- **Version control** with semantic versioning
- **Revenue sharing** for monetized plugins
- **Template sharing** for pre-built routine workflows

## Core Principles

1. **Multi-Tenancy** - Every resource scoped to `user_id` with complete isolation
2. **Type Safety** - Plugins connect only when schemas match
3. **AI-First** - Natural language as primary interface
4. **Security First** - Backend validation, encrypted credentials, sandboxed execution
5. **Extensibility** - Open plugin marketplace for community contributions
6. **Real-Time** - Live updates via Convex subscriptions
7. **Serverless-First** - Zero DevOps, fully managed infrastructure
8. **Observability** - Time-travel debugging with Temporal

## Security

‚úÖ **Server-side execution** - All routines run in Convex + Temporal Workers
‚úÖ **Plugin sandboxing** - Isolated execution environments
‚úÖ **Encrypted credentials** - API keys encrypted at rest
‚úÖ **User isolation** - Row-level security per `user_id`
‚úÖ **Rate limiting** - Per user and per routine
‚úÖ **Audit logging** - Complete execution history
‚úÖ **Schema validation** - All plugin I/O validated
‚úÖ **Execution timeouts** - Prevent infinite loops

**Security Model:**
- Plugins cannot access other users' data (Convex auth context)
- Network requests require URL allowlist
- Schema validation on all plugin inputs/outputs
- Resource quotas per user (Convex + Temporal Cloud)

## Contributing

### Git Workflow

**Important for AI assistants:**
- ‚ö†Ô∏è **Never push to remote** unless explicitly requested
- Always commit locally first and wait for approval
- Use `git push origin main` only when asked

**Commit Convention:** Follow [Conventional Commits](https://www.conventionalcommits.org/)

```bash
feat(server): add agent execution engine
fix(web): correct portfolio calculation
docs: update deployment guide
chore(deps): update dependencies
```

**Types:** `feat`, `fix`, `docs`, `chore`, `refactor`, `test`, `perf`, `ci`, `build`

**Feature Branches (optional):**
```bash
git checkout -b feature/agent-execution
# Make changes
git commit -m "feat: add feature"
git checkout main && git merge feature/agent-execution
```

## Documentation

- **[ARCHITECTURE.md](./docs/ARCHITECTURE.md)** - System design and technical architecture
- **[PLUGIN_DEVELOPMENT.md](./docs/PLUGIN_DEVELOPMENT.md)** - How to build and publish plugins
- **[ROADMAP.md](./docs/ROADMAP.md)** - Product vision and development phases
- **[TODO.md](./docs/TODO.md)** - Current sprint tasks and near-term work

## Status

**Current Phase:** Phase 0 - Foundation

**Recent Milestones:**
- ‚úÖ Bun monorepo setup with Turbo
- ‚úÖ Next.js 16 + React 19 frontend with shadcn/ui
- ‚úÖ Convex serverless backend + real-time database
- ‚úÖ Temporal Cloud workflow engine
- ‚úÖ Example workflows and type-safe invocation
- üöß **Next:** Convex schema setup and Plugin SDK

**Flagship Use Case:** AI-powered stock trading (proof-of-concept)

**Platform Vision:** Universal automation platform where users describe workflows in natural language, plugins provide capabilities, AI powers intelligent decision-making, and the community builds the ecosystem.

## License

[Add your license here]

---

Built with ‚ù§Ô∏è using Next.js, Convex, and Temporal
